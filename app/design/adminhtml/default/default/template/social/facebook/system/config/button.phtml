<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Social
 * @package     Social_Facebook
 * @copyright   Copyright (c) 2012 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
$disabled = $this->getIsDisabled();
if(empty($disabled)) {
?>
<button onclick="javascript:window.open('<?php echo $this->getButtonUrl(); ?>', 'get_auth_file','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, ,left=100, top=100, width=815, height=640'); return false;" class="scalable add" type="button" id="<?php echo $this->getHtmlId() ?>">
<?php
} else {
?>
<button class="scalable" type="button" id="<?php echo $this->getHtmlId() ?>" style="border:1px solid #727272;color:#999999;background:#cccccc;" onclick="alert('Please browse for an authorization file and save the configuration before trying to authorize this extension.');"'>
<?php
}
?>
    <span><?php echo $this->escapeHtml($this->getButtonLabel()); ?></span>
</button>
<?php

$token = $this->getToken();
if(!empty($token)) {
echo "<br /><strong><em>Current Token</em></strong>: <br />" . htmlspecialchars($token) . "<br />";
echo "<strong><em>Fabric URL</em></strong>: <br />" . htmlspecialchars($this->getFabricUrl()) . "<br />";
echo "<strong><em>Tenant Name</em></strong>: <br />" . htmlspecialchars($this->getTenantName()) . "<br />";
}
?>
